var Ee=Object.defineProperty;var ve=(e,t)=>()=>(e&&(t=e(e=0)),t);var Se=(e,t)=>{for(var n in t)Ee(e,n,{get:t[n],enumerable:!0})};var fe={};Se(fe,{install:()=>gt,report:()=>Q});function dt(){let e=document.documentElement?.getAttribute("data-webstir-base")??"";return ut(e)}function ut(e){let t=e.trim();return!t||t==="/"?"":t.startsWith("/")?t.endsWith("/")?t.slice(0,-1):t:`/${t}`}function de(e){return!k||!e.startsWith("/")||e.startsWith("//")||e===k||e.startsWith(`${k}/`)||e.startsWith(`${k}?`)||e.startsWith(`${k}#`)?e:`${k}${e}`}function ue(){let e=window;return e.__WEBSTIR_CID__||(e.__WEBSTIR_CID__="c-"+Math.random().toString(36).slice(2)+Date.now().toString(36)),String(e.__WEBSTIR_CID__)}function ft(e){let t=!!e&&e.type==="unhandledrejection",n=t?e.reason||{}:{},r=e?.error||n||{},i=e?.message||n.message||r?.message||"Unknown error",s=String(r?.stack||n.stack||""),o=String(e?.filename||""),a=Number(e?.lineno||0),d=Number(e?.colno||0);return{type:t?"unhandledrejection":"error",message:String(i||""),stack:s,filename:o,lineno:a,colno:d,pageUrl:String(location.href),userAgent:String(navigator.userAgent||""),timestamp:new Date().toISOString(),correlationId:ue()}}function pt(e){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t=t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)>>>0;return t.toString(36)}function ht(e){return[e.type||"",e.message||"",`${e.filename||""}:${e.lineno||0}:${e.colno||0}`,pt(e.stack||"")].join("|")}function mt(e){let t=Date.now();if(t-ae<lt||ce>=ct)return!1;let n=ht(e),r=x.get(n)||0;return x.size>100&&x.forEach((i,s)=>{t-i>le&&x.delete(s)}),t-r<le?!1:(x.set(n,t),ae=t,ce++,!0)}function Q(e){try{let t=ft(e);if(!mt(t))return;let n=JSON.stringify(t);if(navigator.sendBeacon){let r=new Blob([n],{type:"application/json"});navigator.sendBeacon(de("/client-errors"),r)}else fetch(de("/client-errors"),{method:"POST",headers:{"Content-Type":"application/json","X-Correlation-ID":ue()},body:n,keepalive:!0}).catch(()=>{})}catch{}}function gt(){let e=window;e.__WEBSTIR_ERROR_HANDLER_INSTALLED__||(e.__WEBSTIR_ERROR_HANDLER_INSTALLED__=!0,window.addEventListener("error",t=>{try{Q(t)}catch{}}),window.addEventListener("unhandledrejection",t=>{try{Q(t)}catch{}}))}var ae,ce,ct,lt,le,x,k,pe=ve(()=>{"use strict";ae=0,ce=0,ct=20,lt=1e3,le=6e4,x=new Map,k=dt()});function _e(e){let t=["button:not([disabled])","a[href]","input:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(",");return Array.from(e.querySelectorAll(t)).filter(n=>!n.hasAttribute("hidden")&&n.offsetParent!==null)}function N(e){let t=e.openAttribute===void 0?"data-open":e.openAttribute,n=e.openClass??null,r=e.bodyClass??null,i=e.overlay?.varName??"--ws-drawer-top",s=e.overlay?.target??e.root,o=e.overlay?.headerSelector??".app-header",a=e.isActive??(()=>!0),d=e.closeSelectors?.filter(Boolean).join(",")??"",l=!1,u=()=>{if(!e.overlay)return;let g=document.querySelector(o);if(!g)return;let w=g.getBoundingClientRect(),v=Math.max(0,Math.round(w.bottom));s.style.setProperty(i,`${v}px`)},c=g=>{l!==g&&(l=g,t&&(l?e.root.setAttribute(t,"true"):e.root.removeAttribute(t)),n&&e.root.classList.toggle(n,l),r&&document.body.classList.toggle(r,l),l?(e.onOpen?.(),u()):e.onClose?.())},p=g=>{if(!(!l||!a())){if(e.closeOnEscape&&g.key==="Escape"){g.preventDefault(),c(!1);return}if(e.trapFocus&&g.key==="Tab"){let w=document.activeElement;if(!(w instanceof HTMLElement)||!e.root.contains(w))return;let v=_e(e.root);if(v.length===0)return;let E=v.indexOf(w),m=g.shiftKey?E<=0?v.length-1:E-1:E===-1||E>=v.length-1?0:E+1;g.preventDefault(),v[m]?.focus()}}},h=g=>{if(!l||!a())return;let w=g.target;if(w instanceof Element){if(e.closeOnOutside&&!e.root.contains(w)){c(!1);return}d&&w.closest(d)&&c(!1)}};return document.addEventListener("keydown",p),document.addEventListener("click",h,!0),{open:()=>{a()&&c(!0)},close:()=>{c(!1)},toggle:()=>{if(l){c(!1);return}a()&&c(!0)},isOpen:()=>l,syncOverlayOffset:u,destroy:()=>{document.removeEventListener("keydown",p),document.removeEventListener("click",h,!0)}}}var D=document.querySelector("[data-app-menu]"),P=D?.querySelector(".app-menu__toggle");function Ae(e){if(!e)return null;let t=e.querySelector(".ws-drawer-backdrop")??document.querySelector('[data-drawer="menu"]');if(t)return t;let n=document.createElement("div");return n.className="ws-drawer-backdrop",n.setAttribute("data-drawer","menu"),n.setAttribute("data-drawer-close",""),n.setAttribute("aria-hidden","true"),document.body.appendChild(n),n}var ke=Ae(D);if(D&&P){let e=getComputedStyle(document.documentElement).getPropertyValue("--ws-bp-sm").trim()||"40rem",t=window.matchMedia(`(max-width: ${e})`),n=N({root:D,openAttribute:null,openClass:"is-open",bodyClass:"webstir-menu-open",overlay:{headerSelector:".app-header",target:ke??document.body,varName:"--ws-drawer-top"},isActive:()=>t.matches,closeOnEscape:!0,closeOnOutside:!0,closeSelectors:[".app-nav a",".app-nav button:not([data-docs-folder])","[data-drawer-close]"],onOpen:()=>P.setAttribute("aria-expanded","true"),onClose:()=>P.setAttribute("aria-expanded","false")}),r=()=>{if(!t.matches){n.close();return}n.close(),n.syncOverlayOffset()};r(),t.addEventListener("change",r),P.addEventListener("click",()=>{t.matches&&n.toggle()}),window.addEventListener("resize",()=>{n.isOpen()&&t.matches&&n.syncOverlayOffset()})}var R=document.documentElement,H=document.querySelector('[data-theme-toggle="true"]');if(H){let e="webstir-theme",t=o=>o==="dark"||o==="light"?o:null,n=()=>{try{return t(localStorage.getItem(e))}catch{return null}},r=()=>window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light",i=(o,a)=>{R.setAttribute("data-theme",o),H.setAttribute("aria-pressed",o==="dark"?"true":"false");let d=o==="dark"?"Switch to light theme":"Switch to dark theme";if(H.setAttribute("aria-label",d),H.setAttribute("title",d),a)try{localStorage.setItem(e,o)}catch{}},s=n()??t(R.getAttribute("data-theme"))??r();i(s,!1),H.addEventListener("click",()=>{let a=(t(R.getAttribute("data-theme"))??"dark")==="dark"?"light":"dark";i(a,!0)})}function Le(){document.addEventListener("click",async e=>{let t=e.target;if(!(t instanceof Element)||e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;let n=t.closest("a");if(!n||!(n instanceof HTMLAnchorElement))return;let r=n.getAttribute("data-client-nav");if(n.hasAttribute("data-no-client-nav")||r==="off"||r==="false")return;let s=n.origin!==window.location.origin,o=n.getAttribute("target")==="_blank",a=n.hasAttribute("download");s||o||a||n.hash&&n.pathname===window.location.pathname&&n.search===window.location.search||(e.preventDefault(),await J(n.href,{pushHistory:!0}))}),window.addEventListener("popstate",async()=>{await J(window.location.href,{pushHistory:!1})})}var B=0,I=null,X="data-webstir-dynamic",G="client-nav",b=He();function He(){let e=document.documentElement?.getAttribute("data-webstir-base")??"";return Me(e)}function Me(e){let t=e.trim();return!t||t==="/"?"":t.startsWith("/")?t.endsWith("/")?t.slice(0,-1):t:`/${t}`}function q(e){return!b||!e.startsWith("/")||e.startsWith("//")||e===b||e.startsWith(`${b}/`)||e.startsWith(`${b}?`)||e.startsWith(`${b}#`)?e:`${b}${e}`}function S(e){return!b||!e.startsWith("/")?e:e===b?"/":e.startsWith(`${b}/`)||e.startsWith(`${b}?`)||e.startsWith(`${b}#`)?e.slice(b.length):e}async function J(e,{pushHistory:t}){B+=1;let n=B;I&&I.abort();let r=new AbortController;I=r;let i;try{i=await fetch(e,{headers:{"X-Webstir-Client-Nav":"1"},signal:r.signal})}catch{if(r.signal.aborted)return;window.location.href=e;return}if(!i.ok){window.location.href=e;return}let s=await i.text();if(n!==B)return;let a=new DOMParser().parseFromString(s,"text/html");await Te(a,e);let d=a.querySelector("main"),l=document.querySelector("main");d&&l&&l.replaceWith(d);let u=a.querySelector("title");u&&u.textContent&&(document.title=u.textContent),t&&window.history.pushState({},"",e),window.scrollTo({top:0,behavior:"smooth"});let c=document.querySelector("[autofocus]");c instanceof HTMLElement&&c.focus(),xe(document.querySelector("main")),window.dispatchEvent(new CustomEvent("webstir:client-nav",{detail:{url:e}}))}Le();async function Te(e,t){let n=document.head,r=e.head;if(!n||!r)return;let i=n.querySelector('script[data-webstir="client-nav"]'),s=Array.from(n.querySelectorAll('link[rel="stylesheet"]')).find(c=>qe(c.getAttribute("href")))??null;for(let c of Array.from(n.querySelectorAll(`script[${X}="${G}"]`)))c.remove();for(let c of Array.from(n.querySelectorAll("script[src]"))){let p=c.getAttribute("src")??"",h=S(p);c!==i&&(h==="/hmr.js"||h==="/refresh.js"||h.startsWith("/pages/")&&c.remove())}let o=new Map;for(let c of Array.from(r.querySelectorAll('link[rel="stylesheet"]'))){let p=c.getAttribute("href");if(!p)continue;let h=W(p,t);if(!h)continue;let g=S(Z(h)),w=g==="/app/app.css"&&s?s.getAttribute("href")??h:q(h);o.set(g,w)}if(s){let c=s.getAttribute("href")??q("/app/app.css");o.set("/app/app.css",c)}let a=new Map,d=[];for(let c of Array.from(n.querySelectorAll('link[rel="stylesheet"]'))){let p=Ce(c.getAttribute("href"),window.location.href);if(!p){c.remove();continue}if(o.has(p)){a.has(p)||a.set(p,c);continue}d.push(c)}let l=[];for(let[c,p]of o.entries()){if(a.has(c))continue;let h=document.createElement("link");h.rel="stylesheet",h.href=p,n.appendChild(h),a.set(c,h),l.push(h)}let u=l.length>0?Ne(l):Promise.resolve();d.length>0&&u.then(()=>{requestAnimationFrame(()=>{for(let c of d)c.remove()})}),Pe(n,r);for(let c of Array.from(r.querySelectorAll("script[src]"))){let p=c.getAttribute("src");if(!p||p==="/clientNav.js"||p.endsWith("/clientNav.js")||p==="/hmr.js"||p==="/refresh.js")continue;let h=W(p,t);if(!h)continue;let g=document.createElement("script"),w=c.getAttribute("type");w&&(g.type=w),g.src=h,g.setAttribute(X,G),n.appendChild(g)}i&&!n.contains(i)&&n.appendChild(i),await u}function xe(e){if(!e)return;let t=Array.from(e.querySelectorAll("script"));for(let n of t){let r=n.getAttribute("src"),i=n.getAttribute("type"),s=r?S(r):"";if(s&&(s==="/clientNav.js"||s.endsWith("/clientNav.js"))){n.remove();continue}if(s==="/hmr.js"||s==="/refresh.js"){n.remove();continue}let o=document.createElement("script");if(i&&(o.type=i),r){let a=W(r,window.location.href);a&&(o.src=a)}else n.textContent&&(o.textContent=n.textContent);n.replaceWith(o)}}function W(e,t){try{let n=String(e??"").trim(),[r,i]=De(n);if(r&&!r.startsWith("/")&&!r.startsWith("http:")&&!r.startsWith("https:")&&(r==="index.js"||r==="index.css")){let o=We(t);return q(`/pages/${o}/${r}${i}`)}let s=new URL(e,t);return q(s.pathname+s.search+s.hash)}catch{return null}}function Ce(e,t){let n=W(e??"",t);return n?S(Z(n)):null}function Z(e){return e.split(/[?#]/)[0]??e}function Ne(e,t=2e3){return e.length===0?Promise.resolve():new Promise(n=>{let r=e.length,i=!1,s=()=>{i||(i=!0,n())},o=window.setTimeout(s,t),a=()=>{i||(r-=1,r<=0&&(window.clearTimeout(o),s()))};for(let d of e){if(d.sheet){a();continue}d.addEventListener("load",a,{once:!0}),d.addEventListener("error",a,{once:!0})}})}function Pe(e,t){for(let n of Array.from(e.querySelectorAll("style[data-critical]")))n.remove();for(let n of Array.from(t.querySelectorAll("style[data-critical]"))){let r=document.createElement("style");for(let i of Array.from(n.attributes))r.setAttribute(i.name,i.value);n.textContent&&(r.textContent=n.textContent),e.appendChild(r)}}function De(e){let[t,n=""]=e.split(/(?=[?#])/);return[t??"",n??""]}function qe(e){if(!e)return!1;try{return S(new URL(e,window.location.origin).pathname)==="/app/app.css"}catch{let t=e.trim();if(!t)return!1;let[n]=t.split(/[?#]/);return S(n)==="/app/app.css"}}function We(e){try{let n=S(new URL(e,window.location.href).pathname).replace(/^\/+|\/+$/g,"");return n&&n.split("/")[0]||"home"}catch{return"home"}}var j="__webstirContentNavState",y=Ie(),$e=$("/docs-nav.json"),Oe='[data-content-nav="true"]',ee=".app-nav",Re="[data-docs-nav-menu]";function Be(){let e=window;return e[j]||(e[j]={}),e[j]}function z(e){let t=ze(e);return t.startsWith("/docs")?t==="/docs"?"/docs/":t.endsWith("/")?t:`${t}/`:t}function Ie(){let e=document.documentElement?.getAttribute("data-webstir-base")??"";return je(e)}function je(e){let t=e.trim();return!t||t==="/"?"":t.startsWith("/")?t.endsWith("/")?t.slice(0,-1):t:`/${t}`}function $(e){return!y||!e.startsWith("/")||e.startsWith("//")||e===y||e.startsWith(`${y}/`)||e.startsWith(`${y}?`)||e.startsWith(`${y}#`)?e:`${y}${e}`}function ze(e){return!y||!e.startsWith("/")?e:e===y?"/":e.startsWith(`${y}/`)||e.startsWith(`${y}?`)||e.startsWith(`${y}#`)?e.slice(y.length):e}async function Ue(){let e=Be();if(e.navEntries)return e.navEntries;try{let t=await fetch($e,{headers:{Accept:"application/json"}});if(!t.ok)return e.navEntries=[],[];let n=await t.json();if(!Array.isArray(n))return e.navEntries=[],[];let r=n.filter(i=>!!(i&&i.path&&i.title)).map(i=>({path:String(i.path),title:String(i.title),section:typeof i.section=="string"?i.section:void 0,order:typeof i.order=="number"?i.order:void 0}));return e.navEntries=r,r}catch{return e.navEntries=[],[]}}function Ke(e){let t=0,n={segment:"docs",path:"/docs/",title:"Docs",children:[],isPage:!1,position:t++};for(let r of e){let s=z(r.path).split("/").filter(Boolean);if(s.length===0)continue;let o=n;for(let a=1;a<s.length;a+=1){let d=s[a],l=`/${s.slice(0,a+1).join("/")}/`,u=o.children.find(c=>c.segment===d);u||(u={segment:d,path:l,title:te(d.replace(/[-_]/g," ")),children:[],isPage:!1,position:t++},o.children.push(u)),o=u}o.title=r.title,o.isPage=!0}return n}function U(e,t,n=0){let r=document.createElement("ol");r.className=n===0?"docs-nav__list":"docs-nav__list docs-nav__list--nested";let i=[...e].sort((s,o)=>s.position-o.position);for(let s of i){let o=document.createElement("li");o.className="docs-nav__item";let a=s.path===t,d=!a&&t.startsWith(s.path);if(a?o.dataset.active="true":d&&(o.dataset.activeBranch="true"),s.isPage){let l=document.createElement("a");l.className="docs-nav__link",l.href=$(s.path),l.textContent=s.title,a&&l.setAttribute("aria-current","page"),o.appendChild(l)}else{let l=document.createElement("span");l.className="docs-nav__label",l.textContent=s.title,o.appendChild(l)}s.children.length>0&&o.appendChild(U(s.children,t,n+1)),r.appendChild(o)}return r}function Ve(){document.querySelector(ee)?.querySelector(Re)?.remove()}function Fe(e,t){let n=document.querySelector(ee);if(!n)return;let r=document.createElement("div");r.className="app-nav__docs",r.dataset.docsNavMenu="true";let i=e.children,s=i.length===1&&!i[0].isPage&&i[0].children.length>0?i[0].children:i,o=U(s,t);r.appendChild(o);let a=$("/docs/"),d=a.endsWith("/")?a.slice(0,-1):a,l=n.querySelector(`a[href="${a}"], a[href="${d}"]`);l?l.insertAdjacentElement("afterend",r):n.appendChild(r)}function Qe(e,t,n){if(!n.startsWith("/docs/"))return e.setAttribute("aria-hidden","true"),e.dataset.breadcrumbVisible="false",e.innerHTML="",!1;let r=document.createElement("ol");r.className="docs-breadcrumb__list";let i=n.replace(/^\/docs\/?/,"").split("/").filter(Boolean),s=[],o=t.get("/docs/")??"Docs";s.push({title:o,href:"/docs/"});let a="/docs/";for(let d of i){a=`${a}${d}/`;let l=t.get(a)??te(d.replace(/[-_]/g," "));s.push({title:l,href:a})}for(let d=0;d<s.length;d+=1){let l=s[d],u=document.createElement("li");if(u.className="docs-breadcrumb__item",d===s.length-1){let c=document.createElement("span");c.textContent=l.title,c.setAttribute("aria-current","page"),u.appendChild(c)}else{let c=document.createElement("a");c.className="docs-breadcrumb__link",c.href=$(l.href),c.textContent=l.title,u.appendChild(c)}r.appendChild(u)}return e.innerHTML="",e.appendChild(r),e.removeAttribute("aria-hidden"),e.dataset.breadcrumbVisible="true",!0}function te(e){return e.split(/\s+/).filter(t=>t.length>0).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}async function ne(){let e=Array.from(document.querySelectorAll(Oe));if(Ve(),e.length===0)return;let t=await Ue(),n=new Map(t.map(s=>[z(s.path),s.title])),r=Ke(t),i=z(window.location.pathname);t.length>0&&Fe(r,i);for(let s of e){let o=s.querySelector("[data-docs-sidebar]"),a=s.querySelector("[data-docs-nav]"),d=s.querySelector("[data-docs-breadcrumb]"),l=!1;if(a&&o&&t.length>0){let u=U(r.children,i);a.innerHTML="",a.appendChild(u),l=!0}d&&Qe(d,n,i),l?s.dataset.contentNavReady="true":s.dataset.contentNavReady="false"}}ne();window.addEventListener("webstir:client-nav",()=>{ne()});var _=Xe();function Ye(){if(window.__webstirSearchUiV2)return window.__webstirSearchUiV2;let e={entries:null,entriesPromise:null,open:!1,scope:"all",trigger:null,lastActiveElement:null};return window.__webstirSearchUiV2=e,e}var f=Ye(),O=null;function Xe(){let e=document.documentElement?.getAttribute("data-webstir-base")??"";return Ge(e)}function Ge(e){let t=e.trim();return!t||t==="/"?"":t.startsWith("/")?t.endsWith("/")?t.slice(0,-1):t:`/${t}`}function V(e){return!_||!e.startsWith("/")||e.startsWith("//")||e===_||e.startsWith(`${_}/`)||e.startsWith(`${_}?`)||e.startsWith(`${_}#`)?e:`${_}${e}`}function T(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/'/g,"&#39;")}function A(e){return String(e).toLowerCase().replace(/\s+/g," ").trim()}function Je(e){return(typeof e=="string"?e.toLowerCase().trim():"")==="page"?"page":"docs"}function Ze(e,t){let n=0;return e.title&&A(e.title).includes(t)&&(n+=10),e.description&&A(e.description).includes(t)&&(n+=4),e.excerpt&&A(e.excerpt).includes(t)&&(n+=2),Array.isArray(e.headings)&&e.headings.some(r=>A(r).includes(t))&&(n+=6),e.kind==="docs"&&(n+=1),n}async function et(){return f.entries!==null||(f.entriesPromise??(f.entriesPromise=tt()),f.entries=await f.entriesPromise),f.entries}async function tt(){try{let e=await fetch(V("/search.json"),{headers:{Accept:"application/json"}});if(!e.ok)return[];let t=await e.json();return Array.isArray(t)?t.filter(n=>{if(!n||typeof n!="object")return!1;let r=n;return typeof r.path=="string"&&typeof r.title=="string"}).map(n=>{let r=Je(n.kind),i=Array.isArray(n.headings)?n.headings.filter(o=>typeof o=="string"):[],s=A(`${n.title} ${n.description??""} ${n.excerpt??""} ${i.join(" ")}`);return{path:n.path,title:n.title,description:typeof n.description=="string"?n.description:void 0,excerpt:typeof n.excerpt=="string"?n.excerpt:"",headings:i,kind:r,haystack:s}}):[]}catch{return[]}}function ie(e){return e==="docs"||e==="page"||e==="all"?e:"all"}function nt(e){f.scope=e;let t=document.getElementById("webstir-search");t&&(t.querySelectorAll(".webstir-search__scopes button[data-scope]").forEach(n=>{let r=ie(n.getAttribute("data-scope"));n.setAttribute("aria-pressed",r===e?"true":"false")}),F())}function rt(){let e=navigator.userAgentData?.platform??navigator.platform??"";return/mac/i.test(e)?"\u2318K":"Ctrl K"}function K(){if(f.trigger&&document.contains(f.trigger))return f.trigger;let e=document.querySelector('[data-webstir-search-trigger="true"]');if(e)return f.trigger=e,e;let t=document.querySelector("[data-app-menu]");if(!t)return null;let n=rt(),r=document.createElement("button");r.type="button",r.className="webstir-search__trigger ws-icon-button",r.innerHTML=['<span class="webstir-search__trigger-icon" aria-hidden="true">','  <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">','    <circle cx="11" cy="11" r="7"></circle>','    <path d="M20 20l-3.5-3.5"></path>',"  </svg>","</span>"].join(`
`),r.setAttribute("data-webstir-search-trigger","true"),r.setAttribute("aria-controls","webstir-search"),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-label",`Search (${n})`),r.setAttribute("title",`Search (${n})`);let i=t.querySelector(".app-nav");return i?i.insertAdjacentElement("afterend",r):t.appendChild(r),f.trigger=r,r}function oe(){let e=document.getElementById("webstir-search");return e?(st(e),e):(e=document.createElement("div"),e.id="webstir-search",e.innerHTML=['<div class="ws-drawer-backdrop" data-webstir-search-close></div>','<div class="webstir-search__drawer" role="dialog" aria-modal="true" aria-label="Search">','  <div class="webstir-search__drawer-inner ws-container">','    <div class="webstir-search__field">','      <span class="webstir-search__icon" aria-hidden="true">','        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">','          <circle cx="11" cy="11" r="7"></circle>','          <path d="M20 20l-3.5-3.5"></path>',"        </svg>","      </span>",'      <input class="webstir-search__input" type="search" placeholder="Search\u2026" autocomplete="off" spellcheck="false" autocapitalize="none" />','      <button type="button" class="webstir-search__close" data-webstir-search-close aria-label="Close search">','        <span aria-hidden="true">Esc</span>',"      </button>","    </div>",'    <div class="webstir-search__scopes" role="toolbar" aria-label="Search scope">','      <button type="button" data-scope="all" aria-pressed="true">All</button>','      <button type="button" data-scope="docs" aria-pressed="false">Docs</button>','      <button type="button" data-scope="page" aria-pressed="false">Pages</button>',"    </div>",'    <div class="webstir-search__body">','      <div class="webstir-search__hint" role="status" aria-live="polite"></div>','      <div class="webstir-search__quicklinks" hidden>','        <div class="webstir-search__label">Quick links</div>','        <ul class="webstir-search__quicklinks-list"></ul>',"      </div>",'      <div class="webstir-search__matches" hidden>','        <ul class="webstir-search__results-list"></ul>',"      </div>","    </div>","  </div>","</div>"].join(`
`),document.body.appendChild(e),e)}function st(e){if(e.querySelector(".ws-drawer-backdrop"))return;let n=e.querySelector(".webstir-search__backdrop");if(n){n.classList.add("ws-drawer-backdrop"),n.classList.remove("webstir-search__backdrop"),n.setAttribute("data-webstir-search-close",""),n.setAttribute("aria-hidden","true");return}let r=document.createElement("div");r.className="ws-drawer-backdrop",r.setAttribute("data-webstir-search-close",""),r.setAttribute("aria-hidden","true"),e.prepend(r)}function it(e){if(f.open){let s=document.querySelector("#webstir-search .webstir-search__input");s?.focus(),s?.select();return}let t=oe(),n=O??N({root:t,openAttribute:"data-open",bodyClass:"webstir-search-open",overlay:{headerSelector:".app-header",target:t,varName:"--ws-drawer-top"},closeOnEscape:!0,trapFocus:!0,onOpen:()=>{f.open=!0,K()?.setAttribute("aria-expanded","true")},onClose:()=>{f.open=!1,K()?.setAttribute("aria-expanded","false"),f.lastActiveElement?.focus?.(),f.lastActiveElement=null}});O=n,n.syncOverlayOffset(),f.lastActiveElement=document.activeElement instanceof HTMLElement?document.activeElement:null,n.open();let r=document.querySelector("[data-app-menu]");r?.classList.contains("is-open")&&r.querySelector(".app-menu__toggle")?.click();let i=t.querySelector(".webstir-search__input");i&&(e?.initialQuery&&(i.value=e.initialQuery),i.focus(),i.select()),F()}function M(){f.open&&O?.close()}function re(){f.open?M():it()}function ot(){let e=Array.from(document.querySelectorAll(".app-nav a")).filter(t=>!!t.getAttribute("href")).slice(0,6);return e.length===0?'<li class="webstir-search__empty">Search docs and pages.</li>':e.map(t=>{let n=T(V(t.getAttribute("href")??"#")),r=T(t.textContent??"");return`<li><a href="${n}"><span>${r}</span><span class="webstir-search__arrow" aria-hidden="true">\u2192</span></a></li>`}).join("")}async function F(){let e=document.getElementById("webstir-search");if(!e)return;let t=e.querySelector(".webstir-search__input"),n=e.querySelector(".webstir-search__hint"),r=e.querySelector(".webstir-search__quicklinks"),i=e.querySelector(".webstir-search__quicklinks-list"),s=e.querySelector(".webstir-search__matches"),o=e.querySelector(".webstir-search__results-list"),a=e.querySelector(".webstir-search__scopes");if(!t||!n||!r||!i||!s||!o||!a)return;let d=await et(),l=new Set(d.map(m=>m.kind)),u=A(t.value);if(l.size>1&&u.length>=2?a.removeAttribute("hidden"):a.setAttribute("hidden",""),!u){n.textContent="",i.innerHTML=ot(),r.removeAttribute("hidden"),s.setAttribute("hidden",""),o.innerHTML="";return}if(r.setAttribute("hidden",""),u.length<2){n.textContent="Search docs and pages.",s.setAttribute("hidden",""),o.innerHTML="";return}let p=d.filter(m=>f.scope==="all"?!0:m.kind===f.scope).filter(m=>m.haystack.includes(u)).map(m=>({entry:m,score:Ze(m,u)})).sort((m,L)=>m.score!==L.score?L.score-m.score:String(m.entry.title).localeCompare(String(L.entry.title))).map(m=>m.entry);if(s.removeAttribute("hidden"),p.length===0){n.textContent="",o.innerHTML='<li class="webstir-search__empty">No results.</li>';return}n.textContent="";let h=m=>{let L=T(m.title),ye=T(m.excerpt);return`<li><a href="${T(V(m.path))}"><strong>${L}</strong><span>${ye}</span></a></li>`};if(!(f.scope==="all"&&l.size>1)){o.innerHTML=p.slice(0,12).map(h).join("");return}let w=p.filter(m=>m.kind==="docs").slice(0,6),v=p.filter(m=>m.kind==="page").slice(0,6),E=[];w.length>0&&(E.push('<li class="webstir-search__group">Docs</li>'),E.push(...w.map(h))),v.length>0&&(E.push('<li class="webstir-search__group">Pages</li>'),E.push(...v.map(h))),o.innerHTML=E.join("")}function se(e){return Array.from(e.querySelectorAll(".webstir-search__results-list a, .webstir-search__quicklinks-list a")).filter(n=>!n.closest("[hidden]")&&n.offsetParent!==null)}function at(){let e=oe(),t=K();t&&t.addEventListener("click",()=>re()),document.addEventListener("keydown",r=>{(r.ctrlKey||r.metaKey)&&r.key.toLowerCase()==="k"&&(r.preventDefault(),re())}),e.addEventListener("keydown",r=>{let i=r.target;if(i instanceof HTMLAnchorElement&&i.matches(".webstir-search__results-list a, .webstir-search__quicklinks-list a")&&(r.key==="ArrowDown"||r.key==="ArrowUp"||r.key==="Home"||r.key==="End")){let s=se(e),o=s.indexOf(i);if(o>=0){let a=o;r.key==="Home"?a=0:r.key==="End"?a=s.length-1:r.key==="ArrowDown"?a=Math.min(o+1,s.length-1):a=Math.max(o-1,0),r.preventDefault(),s[a]?.focus()}return}}),e.addEventListener("click",r=>{let i=r.target;if(!(i instanceof Element))return;if(i.closest("[data-webstir-search-close]")){M();return}if(i.matches(".ws-drawer-backdrop")){M();return}i.closest(".webstir-search__results-list a, .webstir-search__quicklinks-list a")&&M()}),e.querySelectorAll(".webstir-search__scopes button[data-scope]").forEach(r=>{r.addEventListener("click",()=>nt(ie(r.getAttribute("data-scope"))))});let n=e.querySelector(".webstir-search__input");n&&(n.addEventListener("input",()=>void F()),n.addEventListener("keydown",r=>{if(r.key!=="ArrowDown"&&r.key!=="ArrowUp")return;let i=se(e);i.length>0&&(r.preventDefault(),(r.key==="ArrowDown"?i[0]:i[i.length-1])?.focus())})),window.addEventListener("resize",()=>{f.open&&O?.syncOverlayOffset()}),window.addEventListener("webstir:client-nav",()=>{f.open&&M()})}at();var C=new Map;function me(e){let t=C.get(e);if(t)return t;let n={};return C.set(e,n),n}function Y(e){if(!e)return null;try{return new URL(e,window.location.origin).pathname}catch{let t=e.indexOf("?");return t===-1?e:e.slice(0,t)}}function ge(e){return!!e&&typeof e.then=="function"}function we(e,t){return t.currentExports?{...e,previousExports:t.currentExports}:e}async function wt(e){return ge(e)?await e!==!1:e!==!1}var he=!1;async function be(){if(!he){he=!0;try{let{install:e}=await Promise.resolve().then(()=>(pe(),fe));e()}catch(e){console.error("Failed to load error handler:",e)}}}function bt(e,t){let n=Y(e);if(!n)return;let r=me(n);r.accept=t.accept,r.dispose=t.dispose,C.set(n,r)}window.__webstirRegisterHotModule=bt;window.__webstirDispose=async(e,t)=>{let n=Y(e?.url??e?.relativePath);if(!n)return!0;let r=C.get(n);if(!r||!r.dispose)return!0;let i=we(t,r);try{let s=r.dispose(i);return ge(s)&&await s,!0}catch(s){return console.error(`[webstir-hmr] Dispose handler failed for ${n}.`,s),!1}};window.__webstirAccept=async(e,t)=>{let n=Y(t?.asset?.url??t?.asset?.relativePath);if(!n)return!0;let r=me(n),i=we(t,r),s=!0;if(r.accept)try{s=await wt(r.accept(e,i))}catch(o){console.error(`[webstir-hmr] Accept handler failed for ${n}.`,o),s=!1}return s&&(r.currentExports=e),C.set(n,r),s};window.addEventListener("error",async()=>{await be()});window.addEventListener("unhandledrejection",async()=>{await be()});export{be as loadErrorHandler,bt as registerHotModule};
